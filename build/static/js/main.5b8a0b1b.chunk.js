(this["webpackJsonpemployee-mngmt"]=this["webpackJsonpemployee-mngmt"]||[]).push([[0],{104:function(e,a,t){},105:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a);var n=t(3),s=t(0),i=t.n(s),r=t(12),c=t.n(r),l=(t(104),t(105),t(22)),d=t(15),o=t(52),m=t(183),h=t(182),j=t(194),u=t(195),b=t(196),p=t(181),O=t(191),x=t(192),g=t(193),f=t(53),v=t(184),y=t(81),C=t.n(y),w=t(83),N=t.n(w),k=t(41),S=t(29),q=t(30),E=t(37),D=t(44),F=t(43),W=t(200),A=t(175),L=t(179),I=t(180),U=t(80),P=(t(106),t(108),U.a.initializeApp({apiKey:"AIzaSyAniZKUV7VTnD7hJaLM9nEk7aGdrSU2UzM",authDomain:"employee-mngmt-8a027.firebaseapp.com",databaseURL:"https://employee-mngmt-8a027-default-rtdb.firebaseio.com",projectId:"employee-mngmt-8a027",storageBucket:"employee-mngmt-8a027.appspot.com",messagingSenderId:"814717174776",appId:"1:814717174776:web:f978c97d41bc71a7670c0d",measurementId:"G-9W6GJNJFVK"})),M=function(e){Object(D.a)(t,e);var a=Object(F.a)(t);function t(){var e;return Object(S.a)(this,t),(e=a.call(this)).state={fname:"",mname:"",lname:"",bday:"",email:"",cpnum:"",address:"",password:""},e.handleChange=e.handleChange.bind(Object(E.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(E.a)(e)),e}return Object(q.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=P.database().ref("users"),t={fname:this.state.fname,mname:this.state.mname,lname:this.state.lname,bday:this.state.bday,email:this.state.email,cpnum:this.state.cpnum,address:this.state.address,password:this.state.password};P.auth().createUserWithEmailAndPassword(t.email,t.password).then((function(e){console.log(e.uid)})),a.push(t),this.setState({fname:"",mname:"",lname:"",bday:"",email:"",cpnum:"",address:"",password:""})}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"add-form-wrapper",children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("h1",{children:"Add Employee"})})}),Object(n.jsx)(L.a,{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"First Name",label:"First Name",name:"fname",onChange:this.handleChange,value:this.state.fname}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-basic",placeholder:"Middle Name",name:"mname",onChange:this.handleChange,value:this.state.mname}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"Last Name",name:"lname",onChange:this.handleChange,value:this.state.lname}),Object(n.jsx)(p.a,{}),Object(n.jsx)(W.a,{id:"date",label:"Birthday",type:"date",name:"bday",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},onChange:this.handleChange,value:this.state.bday}),Object(n.jsx)(p.a,{}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"Contact No.",name:"cpnum",onChange:this.handleChange,value:this.state.cpnum}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"Address",name:"address",onChange:this.handleChange,value:this.state.address}),Object(n.jsx)(p.a,{}),Object(n.jsx)("h4",{children:"User Credentials"}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",autoComplete:"off",placeholder:"Email",name:"email",onChange:this.handleChange,value:this.state.email}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"Password",label:"Password",name:"password",type:"password",onChange:this.handleChange,value:this.state.password}),Object(n.jsx)(p.a,{}),Object(n.jsx)("button",{children:"Add Employee"})]})})]})})}}]),t}(s.Component),B=t(186),V=t(190),T=t(189),J=t(185),G=t(187),R=t(188),z=t(48),H=P.database().ref("/users"),K=new(function(){function e(){Object(S.a)(this,e)}return Object(q.a)(e,[{key:"getAll",value:function(){return H}},{key:"get",value:function(e){return H.child(e)}},{key:"update",value:function(e,a){return H.child(e).update(a)}}]),e}()),_=t(203),Z=(Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),function(e){Object(D.a)(t,e);var a=Object(F.a)(t);function t(e){var n;return Object(S.a)(this,t),(n=a.call(this,e)).emptyEmployee={key:"",fname:"",mname:"",lname:"",email:"",cpnum:"",address:"",password:""},n.componentDidMount=function(){var e=n.props.match.params.id;K.get(e).on("value",n.onDataChange)},n.componentWillUnmount=function(){K.getAll().off("value",n.onDataChange)},n.onDataChange=function(e){var a=e.val(),t={key:e.key,fname:a.fname,mname:a.mname,lname:a.lname,bday:a.bday,email:a.email,cpnum:a.cpnum,address:a.address,password:a.password};n.setState({item:t})},n.handleChange=function(e){var a=e.target,t=a.value,s=a.name,i=Object(z.a)({},n.state.item);i[s]=t,n.setState({item:i})},n.handleSubmit=function(e){e.preventDefault();var a=n.state.item,t=n.props.match.params.id;K.update(t,a),n.props.history.push("/employee-list")},n.handleCancel=function(e){e.preventDefault(),n.props.history.push("/employee-list"),e.target.id=""},n.state={item:n.emptyEmployee},n}return Object(q.a)(t,[{key:"render",value:function(){var e=this.state.item,a=Object(n.jsx)("h2",{children:"Edit Employee"});return Object(n.jsx)("div",{className:"edit-form-wrapper",children:Object(n.jsxs)(A.a,{className:"edit-form-cont",children:[Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"wrapper",children:a})}),Object(n.jsx)(L.a,{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"First Name"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",placeholder:"First Name",name:"fname",onChange:this.handleChange,value:e.fname}),Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"Middle Name"}),Object(n.jsx)(I.a,{required:!0,id:"standard-basic",label:"Middle Name",name:"mname",onChange:this.handleChange,value:e.mname}),Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"Last Name"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",label:"Last Name",name:"lname",onChange:this.handleChange,value:e.lname}),Object(n.jsx)(p.a,{}),Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"Birthday"}),Object(n.jsx)(W.a,{id:"date",type:"date",name:"bday",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},onChange:this.handleChange,value:e.bday}),Object(n.jsx)(p.a,{}),Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"Contact No."}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",label:"Contact No.",name:"cpnum",onChange:this.handleChange,value:e.cpnum}),Object(n.jsx)(p.a,{}),Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"Address"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",label:"Address",name:"address",onChange:this.handleChange,value:e.address}),Object(n.jsx)(p.a,{}),Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"Email"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",placeholder:"Email",name:"email",onChange:this.handleChange,value:e.email}),Object(n.jsx)(_.a,{htmlFor:"component-simple",children:"Password"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",placeholder:"Password",name:"password",autoComplete:"off",type:"password",onChange:this.handleChange,value:e.password}),Object(n.jsx)(p.a,{}),Object(n.jsx)("button",{type:"Submit",children:"Update Employee"}),Object(n.jsx)(v.a,{to:"/employee-list",id:e.key,onClick:this.handleCancel,children:"Cancel"})]})})]})})}}]),t}(s.Component)),Q=Object(d.g)(Z),X=[{id:"fname",label:"First Name",minWidth:100},{id:"mname",label:"Middle Name",minWidth:100},{id:"lname",label:"Last Name",minWidth:100},{id:"email",label:"Email",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"cnum",label:"Contact #",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"action",label:"Action",minWidth:100,align:"center"}],Y=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},container:{width:"100%",minWidth:900,maxHeight:440},app:{width:"100%",minWidth:950}}})),$=function(e){Object(D.a)(t,e);var a=Object(F.a)(t);function t(){var e;return Object(S.a)(this,t),(e=a.call(this)).state={fname:"",lname:"",users:[]},e.handleChange=e.handleChange.bind(Object(E.a)(e)),e}return Object(q.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;P.database().ref("users").on("value",(function(a){var t=a.val(),n=[];for(var s in t)n.push({id:s,fname:t[s].fname,mname:t[s].mname,lname:t[s].lname,bday:t[s].bday,email:t[s].email,cpnum:t[s].cpnum,address:t[s].address});e.setState({users:n})}))}},{key:"removeItem",value:function(e){P.database().ref("/users/".concat(e)).remove()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("h1",{children:"Employee List"})})}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("section",{className:"display-item",children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)(l.a,{children:Object(n.jsx)(J.a,{className:Y.container,children:Object(n.jsxs)(B.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(n.jsx)(G.a,{children:Object(n.jsx)(R.a,{children:X.map((function(e){return Object(n.jsx)(T.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(n.jsxs)(V.a,{children:[this.state.users.map((function(a){return Object(n.jsxs)(R.a,{hover:!0,role:"checkbox",children:[Object(n.jsx)(T.a,{align:X.align,children:Object(n.jsx)("p",{children:a.fname})},X.id),Object(n.jsx)(T.a,{align:X.align,children:Object(n.jsx)("p",{children:a.mname})},X.id),Object(n.jsx)(T.a,{align:X.align,children:Object(n.jsx)("p",{children:a.lname})},X.id),Object(n.jsx)(T.a,{align:X.align,children:Object(n.jsx)("p",{children:a.email})},X.id),Object(n.jsx)(T.a,{align:X.align,children:Object(n.jsx)("p",{children:a.cpnum})},X.id),Object(n.jsxs)(T.a,{align:X.align,children:[Object(n.jsx)(l.b,{to:"/edit-employee/"+a.id,className:"nav-link",children:Object(n.jsx)("button",{className:"btns",children:"Update"})}),Object(n.jsx)("button",{className:"btns",onClick:function(){return e.removeItem(a.id)},children:"Remove"})]},X.id)]},a.id)})),Object(n.jsx)(d.d,{children:Object(n.jsx)(d.b,{exact:!0,path:"/edit-employee/:id",component:Q,children:Object(n.jsx)(Q,{})})})]})]})})})})})})]})}}]),t}(s.Component),ee=Object(d.g)($),ae=void 0,te=i.a.createContext(),ne=function(e){var a=e.children,t=Object(s.useState)(null),i=Object(o.a)(t,2),r=i[0],c=i[1],l=Object(s.useState)(!0),d=Object(o.a)(l,2),m=d[0],h=d[1];return Object(s.useEffect)((function(){P.auth().onAuthStateChanged((function(e){c(e),h(!1),ae.setState({userId:e.uid})}))}),[]),m?Object(n.jsx)(n.Fragment,{children:"Please wait..."}):Object(n.jsx)(te.Provider,{value:{currentUser:r},children:a})},se=Object(m.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},nav_menu:{width:"100%",maxWidth:"350px",backgroundColor:e.palette.background.paper},menuButton:{marginRight:e.spacing(2)},logOut:{color:"white",top:"50%",height:30,float:"right",marginLeft:e.spacing(2)}}}));function ie(){var e=se(),a=i.a.useState(1),t=Object(o.a)(a,2),s=t[0],r=t[1],c=function(e,a){r(a)};return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(O.a,{position:"static",component:"nav",children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"}),Object(n.jsxs)(f.a,{variant:"h6",className:e.title,children:[Object(n.jsx)("div",{className:"welcome-tag",children:" "}),P.auth().onAuthStateChanged((function(e){var a=document.querySelector(".welcome-tag");if(e){"\n                            <div> ".concat(e.emal,"</div>\n                            ");window.myGlobalVariable=e.uid,a.innerHTML="Welcome "+e.email}else d.a}))]}),Object(n.jsx)(v.a,{placement:"right-start",className:e.logOut,color:"inherit",onClick:function(){return P.auth().signOut()},children:"Logout"})]})}),Object(n.jsxs)(l.a,{children:[Object(n.jsxs)(h.a,{component:"nav",className:e.nav_menu,children:[Object(n.jsxs)(j.a,{button:!0,selected:0===s,onClick:function(e){return c(0,0)},children:[Object(n.jsx)(u.a,{children:Object(n.jsx)(C.a,{})}),Object(n.jsx)(l.b,{to:"/add-employee",className:"nav-link",children:Object(n.jsx)(b.a,{primary:"Add Employee"})})]}),Object(n.jsxs)(j.a,{button:!0,selected:1===s,onClick:function(e){return c(0,1)},children:[Object(n.jsx)(u.a,{children:Object(n.jsx)(N.a,{})}),Object(n.jsx)(l.b,{to:"/employee-list",className:"nav-link",children:Object(n.jsx)(b.a,{primary:"Employee List"})})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/employee-list",component:ee,children:Object(n.jsx)(ee,{})}),Object(n.jsx)(d.b,{path:"/add-employee",exact:!0,component:M,children:Object(n.jsx)(M,{})})]})]}),Object(n.jsx)(p.a,{className:e.nav_menu})]})}var re=t(71),ce=t.n(re),le=t(84),de=t(198),oe=t(199),me=t(201),he=t(197),je=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ue(e){var a=e.history,t=je(),i=Object(s.useCallback)(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n,s,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,s=n.email,i=n.password,e.prev=2,e.next=5,P.auth().signInWithEmailAndPassword(s.value,i.value);case 5:a.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),[a]);return Object(s.useContext)(te).currentUser?Object(n.jsx)(d.a,{to:"/"}):Object(n.jsxs)(he.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(de.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(f.a,{component:"h1",variant:"h5",children:"Employee Management System"}),Object(n.jsxs)("form",{onSubmit:i,className:t.form,noValidate:!0,children:[Object(n.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(n.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(n.jsx)(oe.a,{control:Object(n.jsx)(me.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})]})}var be=t(85),pe=function(e){var a=e.component,t=Object(be.a)(e,["component"]),i=Object(s.useContext)(te).currentUser;return Object(n.jsx)(d.b,Object(z.a)(Object(z.a)({},t),{},{render:function(e){return i?Object(n.jsx)(a,Object(z.a)({},e)):Object(n.jsx)(d.a,{to:"/signin"})}}))};var Oe=function(){return Object(n.jsx)(ne,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(pe,{exact:!0,path:"/",component:ie}),Object(n.jsx)(d.b,{exact:!0,path:"/signin",component:ue})]})})})},xe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,204)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,i=a.getLCP,r=a.getTTFB;t(e),n(e),s(e),i(e),r(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(Oe,{})}),document.getElementById("root")),xe()}},[[123,1,2]]]);
//# sourceMappingURL=main.5b8a0b1b.chunk.js.map