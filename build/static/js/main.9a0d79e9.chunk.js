(this["webpackJsonpemployee-mngmt"]=this["webpackJsonpemployee-mngmt"]||[]).push([[0],{110:function(e,a,t){},111:function(e,a,t){},129:function(e,a,t){"use strict";t.r(a);var n=t(3),s=t(0),i=t.n(s),c=t(12),r=t.n(c),l=(t(110),t(111),t(22)),d=t(15),o=t(53),m=t(189),h=t(187),j=t(130),u=t(200),b=t(201),p=t(185),O=t(197),x=t(198),g=t(199),f=t(54),v=t(190),y=t(179),C=t(183),N=t(85),w=t.n(N),k=t(87),S=t.n(k),E=t(41),q=t(29),D=t(30),L=t(37),W=t(45),A=t(44),F=t(207),I=t(184),M=t(205),P=t(188),U=t(84),B=(t(112),t(114),U.a.initializeApp({apiKey:"AIzaSyAniZKUV7VTnD7hJaLM9nEk7aGdrSU2UzM",authDomain:"employee-mngmt-8a027.firebaseapp.com",databaseURL:"https://employee-mngmt-8a027-default-rtdb.firebaseio.com",projectId:"employee-mngmt-8a027",storageBucket:"employee-mngmt-8a027.appspot.com",messagingSenderId:"814717174776",appId:"1:814717174776:web:f978c97d41bc71a7670c0d",measurementId:"G-9W6GJNJFVK"})),T=function(e){Object(W.a)(t,e);var a=Object(A.a)(t);function t(){var e;return Object(q.a)(this,t),(e=a.call(this)).state={fname:"",mname:"",lname:"",bday:"",email:"",cpnum:"",address:"",password:"",utype:""},e.handleChange=e.handleChange.bind(Object(L.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(L.a)(e)),e}return Object(D.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();B.database().ref("users");var a=this.state.fname,t=this.state.mname,n=this.state.lname,s=this.state.bday,i=this.state.email,c=this.state.cpnum,r=this.state.address,l=this.state.password,d=this.state.utype,o={email:this.state.email,password:this.state.password};B.auth().createUserWithEmailAndPassword(o.email,o.password).then((function(e){!function(e){var o=B.database().ref("users"),m={fname:a,mname:t,lname:n,bday:s,email:i,cpnum:c,address:r,password:l,uid:e,utype:d};o.push(m)}(e.user.uid)})),this.setState({fname:"",mname:"",lname:"",bday:"",email:"",cpnum:"",address:"",password:"",uid:"",utype:""})}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"add-form-wrapper",children:Object(n.jsxs)(y.a,{children:[Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("h1",{children:"Add Employee"})})}),Object(n.jsx)(C.a,{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"First Name",label:"First Name",name:"fname",onChange:this.handleChange,value:this.state.fname}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-basic",placeholder:"Middle Name",name:"mname",onChange:this.handleChange,value:this.state.mname}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"Last Name",name:"lname",onChange:this.handleChange,value:this.state.lname}),Object(n.jsx)(p.a,{}),Object(n.jsx)(F.a,{id:"date",label:"Birthday",type:"date",name:"bday",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},onChange:this.handleChange,value:this.state.bday}),Object(n.jsx)(p.a,{}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",type:"number",placeholder:"Contact No.",name:"cpnum",onChange:this.handleChange,value:this.state.cpnum}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"Address",name:"address",onChange:this.handleChange,value:this.state.address}),Object(n.jsx)(p.a,{}),Object(n.jsx)(p.a,{}),Object(n.jsx)("h4",{children:"User Type"}),Object(n.jsxs)(M.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"utype",value:this.state.utype,onChange:this.handleChange,children:[Object(n.jsx)(P.a,{value:"admin",children:"ADMIN"}),Object(n.jsx)(P.a,{value:"employee",children:"EMPLOYEE"})]}),Object(n.jsx)(p.a,{}),Object(n.jsx)("h4",{children:"User Credentials"}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",type:"email",autoComplete:"off",placeholder:"Email",name:"email",onChange:this.handleChange,value:this.state.email}),Object(n.jsx)(I.a,{className:"inputDatas",required:!0,id:"standard-required",placeholder:"Password",label:"Password",name:"password",type:"password",onChange:this.handleChange,value:this.state.password}),Object(n.jsx)(p.a,{}),Object(n.jsx)("button",{children:"Add Employee"})]})})]})})}}]),t}(s.Component),V=t(192),J=t(196),_=t(195),z=t(191),H=t(193),R=t(194),Y=t(49),G=B.database().ref("/users"),K=new(function(){function e(){Object(q.a)(this,e)}return Object(D.a)(e,[{key:"getAll",value:function(){return G}},{key:"get",value:function(e){return G.child(e)}},{key:"update",value:function(e,a){return G.child(e).update(a)}}]),e}()),Z=t(209),Q=(Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),function(e){Object(W.a)(t,e);var a=Object(A.a)(t);function t(e){var n;return Object(q.a)(this,t),(n=a.call(this,e)).emptyEmployee={key:"",fname:"",mname:"",lname:"",email:"",cpnum:"",address:"",password:"",utype:""},n.componentDidMount=function(){var e=n.props.match.params.id;K.get(e).on("value",n.onDataChange)},n.componentWillUnmount=function(){K.getAll().off("value",n.onDataChange)},n.onDataChange=function(e){var a=e.val(),t={key:e.key,fname:a.fname,mname:a.mname,lname:a.lname,bday:a.bday,email:a.email,cpnum:a.cpnum,address:a.address,password:a.password,utype:a.utype};n.setState({item:t})},n.handleChange=function(e){var a=e.target,t=a.value,s=a.name,i=Object(Y.a)({},n.state.item);i[s]=t,n.setState({item:i})},n.handleSubmit=function(e){e.preventDefault();var a=n.state.item,t=n.props.match.params.id;K.update(t,a),n.props.history.push("/employee-list")},n.handleCancel=function(e){e.preventDefault(),n.props.history.push("/employee-list"),e.target.id=""},n.state={item:n.emptyEmployee},n}return Object(D.a)(t,[{key:"render",value:function(){var e=this.state.item,a=Object(n.jsx)("h2",{children:"Edit Employee"});return Object(n.jsx)("div",{className:"edit-form-wrapper",children:Object(n.jsxs)(y.a,{className:"edit-form-cont",children:[Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"wrapper",children:a})}),Object(n.jsx)(C.a,{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"First Name"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",placeholder:"First Name",name:"fname",onChange:this.handleChange,value:e.fname}),Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"Middle Name"}),Object(n.jsx)(I.a,{required:!0,id:"standard-basic",label:"Middle Name",name:"mname",onChange:this.handleChange,value:e.mname}),Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"Last Name"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",label:"Last Name",name:"lname",onChange:this.handleChange,value:e.lname}),Object(n.jsx)(p.a,{}),Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"Birthday"}),Object(n.jsx)(F.a,{id:"date",type:"date",name:"bday",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},onChange:this.handleChange,value:e.bday}),Object(n.jsx)(p.a,{}),Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"Contact No."}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",label:"Contact No.",type:"number",name:"cpnum",onChange:this.handleChange,value:e.cpnum}),Object(n.jsx)(p.a,{}),Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"Address"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",label:"Address",name:"address",onChange:this.handleChange,value:e.address}),Object(n.jsx)(p.a,{}),Object(n.jsx)("h4",{children:"User Type"}),Object(n.jsxs)(M.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"utype",value:e.utype,onChange:this.handleChange,children:[Object(n.jsx)(P.a,{value:"admin",children:"ADMIN"}),Object(n.jsx)(P.a,{value:"employee",children:"EMPLOYEE"})]}),Object(n.jsx)(p.a,{}),Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"Email"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",placeholder:"Email",type:"email",name:"email",onChange:this.handleChange,value:e.email}),Object(n.jsx)(Z.a,{htmlFor:"component-simple",children:"Password"}),Object(n.jsx)(I.a,{required:!0,id:"standard-required",placeholder:"Password",name:"password",autoComplete:"off",type:"password",onChange:this.handleChange,value:e.password}),Object(n.jsx)(p.a,{}),Object(n.jsx)("button",{type:"Submit",children:"Update Employee"}),Object(n.jsx)(v.a,{to:"/employee-list",id:e.key,onClick:this.handleCancel,children:"Cancel"})]})})]})})}}]),t}(s.Component)),X=Object(d.g)(Q),$=[{id:"fname",label:"First Name",minWidth:100},{id:"mname",label:"Middle Name",minWidth:100},{id:"lname",label:"Last Name",minWidth:100},{id:"email",label:"Email",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"cnum",label:"Contact #",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"action",label:"Action",minWidth:100,align:"center"}],ee=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},container:{width:"100%",minWidth:900,maxHeight:440},app:{width:"100%",minWidth:950}}})),ae=function(e){Object(W.a)(t,e);var a=Object(A.a)(t);function t(){var e;return Object(q.a)(this,t),(e=a.call(this)).state={fname:"",lname:"",users:[]},e.handleChange=e.handleChange.bind(Object(L.a)(e)),e}return Object(D.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;B.database().ref("users").on("value",(function(a){var t=a.val(),n=[];for(var s in t)n.push({id:s,fname:t[s].fname,mname:t[s].mname,lname:t[s].lname,bday:t[s].bday,email:t[s].email,cpnum:t[s].cpnum,address:t[s].address});e.setState({users:n})}))}},{key:"removeItem",value:function(e){B.database().ref("/users/".concat(e)).remove()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("h1",{children:"Employee List"})})}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("section",{className:"display-item",children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)(l.a,{children:Object(n.jsx)(z.a,{className:ee.container,children:Object(n.jsxs)(V.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(n.jsx)(H.a,{children:Object(n.jsx)(R.a,{children:$.map((function(e){return Object(n.jsx)(_.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(n.jsxs)(J.a,{children:[this.state.users.map((function(a){return Object(n.jsxs)(R.a,{hover:!0,role:"checkbox",children:[Object(n.jsx)(_.a,{align:$.align,children:Object(n.jsx)("p",{children:a.fname})},$.id),Object(n.jsx)(_.a,{align:$.align,children:Object(n.jsx)("p",{children:a.mname})},$.id),Object(n.jsx)(_.a,{align:$.align,children:Object(n.jsx)("p",{children:a.lname})},$.id),Object(n.jsx)(_.a,{align:$.align,children:Object(n.jsx)("p",{children:a.email})},$.id),Object(n.jsx)(_.a,{align:$.align,children:Object(n.jsx)("p",{children:a.cpnum})},$.id),Object(n.jsxs)(_.a,{align:$.align,children:[Object(n.jsx)(l.b,{to:"/edit-employee/"+a.id,className:"nav-link",children:Object(n.jsx)("button",{className:"btns",children:"Update"})}),Object(n.jsx)("button",{className:"btns",onClick:function(){return e.removeItem(a.id)},children:"Remove"})]},$.id)]},a.id)})),Object(n.jsx)(d.d,{children:Object(n.jsx)(d.b,{exact:!0,path:"/edit-employee/:id",component:X,children:Object(n.jsx)(X,{})})})]})]})})})})})})]})}}]),t}(s.Component),te=Object(d.g)(ae),ne=i.a.createContext(),se=function(e){var a=e.children,t=Object(s.useState)(null),i=Object(o.a)(t,2),c=i[0],r=i[1],l=Object(s.useState)(!0),d=Object(o.a)(l,2),m=d[0],h=d[1];return Object(s.useEffect)((function(){B.auth().onAuthStateChanged((function(e){r(e),h(!1)}))}),[]),m?Object(n.jsx)(n.Fragment,{children:"Please wait..."}):Object(n.jsx)(ne.Provider,{value:{currentUser:c},children:a})},ie=Object(m.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},nav_menu:{width:"100%",maxWidth:"350px",backgroundColor:e.palette.background.paper},menuButton:{marginRight:e.spacing(2)},logOut:{color:"white",top:"50%",height:30,float:"right",marginLeft:e.spacing(2)},card_cont:{height:"10%",width:"30%",margin:"0 auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}}));function ce(){var e=ie(),a=i.a.useState(1),t=Object(o.a)(a,2),s=t[0],c=t[1],r=function(e,a){c(a)};e.bullet;return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(O.a,{position:"static",component:"nav",children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"}),Object(n.jsxs)(f.a,{variant:"h6",className:e.title,children:[Object(n.jsx)("div",{className:"welcome-tag",children:" "}),B.auth().onAuthStateChanged((function(e){var a=document.querySelector(".welcome-tag");if(e){"\n                            <div> ".concat(e.emal,"</div>\n                            ");a.innerHTML="Welcome "+e.email}else d.a}))]}),Object(n.jsx)(v.a,{placement:"right-start",className:e.logOut,color:"inherit",onClick:function(){return B.auth().signOut()},children:"Logout"})]})}),Object(n.jsxs)(l.a,{children:[Object(n.jsxs)(h.a,{component:"nav",className:e.nav_menu,children:[Object(n.jsxs)(j.a,{button:!0,selected:0===s,onClick:function(e){return r(0,0)},children:[Object(n.jsx)(u.a,{children:Object(n.jsx)(w.a,{})}),Object(n.jsx)(l.b,{to:"/add-employee",className:"nav-link",children:Object(n.jsx)(b.a,{primary:"Add Employee"})})]}),Object(n.jsxs)(j.a,{button:!0,selected:1===s,onClick:function(e){return r(0,1)},children:[Object(n.jsx)(u.a,{children:Object(n.jsx)(S.a,{})}),Object(n.jsx)(l.b,{to:"/employee-list",className:"nav-link",children:Object(n.jsx)(b.a,{primary:"Employee List"})})]})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(y.a,{className:e.card_cont,variant:"outlined",children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(f.a,{className:e.title,color:"textSecondary",gutterBottom:!0,children:"Welcome and Happy holidays"}),Object(n.jsx)(f.a,{className:e.pos,color:"textSecondary",children:"Click ADD EMPLOYEE to and new employee"}),Object(n.jsx)(f.a,{variant:"body2",component:"p",children:"Click EMPLOYEE LIST to view and update certain user"})]})}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/employee-list",component:te,children:Object(n.jsx)(te,{})}),Object(n.jsx)(d.b,{path:"/add-employee",exact:!0,component:T,children:Object(n.jsx)(T,{})})]})]}),Object(n.jsx)(p.a,{className:e.nav_menu})]})}var re=t(72),le=t.n(re),de=t(88),oe=t(203),me=t(204),he=t(206),je=t(202),ue=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function be(e){var a=e.history,t=ue(),i=Object(s.useCallback)(function(){var e=Object(de.a)(le.a.mark((function e(t){var n,s,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,s=n.email,i=n.password,e.prev=2,e.next=5,B.auth().signInWithEmailAndPassword(s.value,i.value);case 5:a.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),[a]);return Object(s.useContext)(ne).currentUser?Object(n.jsx)(d.a,{to:"/"}):Object(n.jsxs)(je.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(oe.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(f.a,{component:"h1",variant:"h5",children:"Employee Management System"}),Object(n.jsxs)("form",{onSubmit:i,className:t.form,noValidate:!0,children:[Object(n.jsx)(F.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(n.jsx)(F.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(n.jsx)(me.a,{control:Object(n.jsx)(he.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})]})}var pe=t(89),Oe=function(e){var a=e.component,t=Object(pe.a)(e,["component"]),i=Object(s.useContext)(ne).currentUser;return Object(n.jsx)(d.b,Object(Y.a)(Object(Y.a)({},t),{},{render:function(e){return i?Object(n.jsx)(a,Object(Y.a)({},e)):Object(n.jsx)(d.a,{to:"/signin"})}}))};var xe=function(){return Object(n.jsx)(se,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(Oe,{exact:!0,path:"/",component:ce}),Object(n.jsx)(d.b,{exact:!0,path:"/signin",component:be})]})})})},ge=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,210)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,i=a.getLCP,c=a.getTTFB;t(e),n(e),s(e),i(e),c(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(xe,{})}),document.getElementById("root")),ge()}},[[129,1,2]]]);
//# sourceMappingURL=main.9a0d79e9.chunk.js.map